@import "colors";

body {
    box-sizing border-box
    margin: 0 auto
    min-height: 295px
    max-width 360px;
    padding 0 20px;
    font-family Helvetica, Arial, sans-serif

    background-color $form-bg-color
}

form {
    position: relative;
    font-size 0;
    box-sizing border-box
}

.city,
.zip_code,
.cpf,
.card_cvv,
.expiry-date-select,
.card_number {
    position: relative;
    width: 100%;
}

.card_number
    padding: 0 0 10px;

    label
        display: block

label {
    margin-bottom: 5px
    font-size: 12px;
    color: $text-label;
    font-weight: 300;
    line-height 17px;
    -webkit-text-size-adjust: none;
}

#card_number-input {
    padding-left: 20px;
    text-align: left;
    font-size: 14px;
    position: relative;
}

.card_number .input-block {
    width: 100%
}
.input-block {
    position: relative;
    display: inline-block
}

input {
    display: block;
    margin: 0;
    padding: 0;
    width: 100%;
    height: 44px;

    text-align: left;
    font: 14px Helvetica, sans-serif;
    text-indent: 0;
    color: $text-color;
    background-color: $input-background;

    border: 1px solid transparent;
    border-radius: $input-border-radius;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;

    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;

    outline: none;
}

input:focus {
    border-style: solid;
    border-width: 1px;
    border-image-source: linear-gradient(99deg, #dd35ae 0%, #a81855 43%, #89071f 73%);
    border-image-slice: 1;
    background-image: linear-gradient(to bottom, #f5f7fa, #f5f7fa), linear-gradient(99deg, #dd35ae 0%, #a81855 43%, #89071f 73%);
    background-origin: border-box;
    background-clip: padding-box, border-box;
}
select:focus {
    border-style: solid;
    border-width: 1px;
    border-image-source: linear-gradient(99deg, #dd35ae 0%, #a81855 43%, #89071f 73%);
    border-image-slice: 1;
    background-image: linear-gradient(to bottom, #f5f7fa, #f5f7fa), linear-gradient(99deg, #dd35ae 0%, #a81855 43%, #89071f 73%);
    background-origin: border-box;
    background-clip: padding-box, border-box;
}

.error-text {
    height: 0
    opacity 0
}
.error.dirty .error-text {
    display: block
    position: absolute;
    height: auto
    opacity 1
    width: 100%;
    margin: 0;
    bottom -262px
    text-align center
    font-size: 14px
    color $error-text-color

}
.error.dirty ~ .error.dirty .error-text {
    display: none;
}

.error.dirty #card_exp_month_select-select,
.error.dirty #card_exp_year_select-select {
    color $error-text-color
}

.error.dirty .card_exp_month_select .error-text,
.error.dirty .card_exp_year_select .error-text
    display: none

.error.dirty ~ button {
    margin-top: 54px
    transition 0.5s
}

.expiry-date-select {
    display: inline-block;
    width: 50%;
    min-width: 140px;
    padding-bottom: 10px;
}
.expiry-date-select > label
    display: block
    font-size: 12px;

.expiry-date-select>.input-block {
    display: flex;
    align-items: center;
    width: 100%;
    font-size: 0;
}
.expiry-date-select.error.dirty .error-text {
    bottom -186px;
    width: 200%
}
.card_exp_year_select,
.card_exp_month_select
    display: inline-block;
    position: relative;
    width: auto

    select
        display: block;
        height: 44px;
        margin: 0;
        padding: 0 15px;

        font: 14px Helvetica, sans-serif;
        max-width: none;

        color: $text-placeholder;
        text-align left;
        text-indent: 0;

        background-color: $input-background;
        background-size: 8px;
        border: 1px solid transparent;
        border-radius: $input-border-radius;

        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;

        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;

        outline: none;

    label
        font-size: 12px;

    .input-block
        min-width: auto;
        width: auto;
        position: relative;

.card_exp_month_select
    margin-right: 10px;

.card_exp_month_select select
    width: 57px
    background-position: 48px center;

.card_exp_year_select select
    width: 73px
    background-position: 75px center;

select option:disabled {
    display: none;
}

.expiry-date-select.valid select {
    color: $text-color;
}


.card_cvv
    position: relative;
    display: inline-block;
    width: auto;
    padding-bottom: 10px;
    float: right

    label
        display: block;

    .input-block
        width: 100%;
        min-width: 104px;
        //position: relative;

        input
            width: 73px;
            display: inline-block;
            position: relative
            padding-left 20px;

        .tooltip-icon
            width: 16px;
            height: 16px;
            position: absolute;
            left 88px;
            bottom: 50%;
            transform: translateY(50%);
            border-radius: 50%;
            background-color: #e7e5e5;
            cursor: pointer;
            text-align: center;
            display: block;
            font-size: 0;

            &:before
                content: '?';
                display: inline-block;
                font: 10px Helvetica, Arial, sans-serif;
                line-height: 16px;
                color: #656d78;
            &:hover
                //color: $tooltip-icon-text-color;
                &:before
                    color: $tooltip-icon-text-color;
                &~.tooltip
                    display: block;

        .tooltip
            display: none
            position absolute
            top -37px
            //right: 0;
            left: 22px
            width: 82px;
            height: 44px;
            background url("img/cvv-hint.svg") no-repeat center
            background-size contain
            vertical-align top
            filter: drop-shadow(-3px 0 14px rgba(0,0,0,.1));
        //.validation-icon
        //    left 62px
        //    right auto

        .error-text
            position: absolute
            bottom -186px
            width: 100vw
            right: -20px

@media screen and (min-width: 360px) {
    .card_cvv .input-block .error-text {
        right calc(-100vw/2 + 320px/2);
    }
}

.card_type_mastercard .validation-icon,
.card_type_visa .validation-icon,
.card_type_maestro .validation-icon,
.card_type_discover .validation-icon,
.card_type_nspk_mir .validation-icon
    display: none


.card_holder
    display block;
    width: 100%;
    margin: 0
    padding: 0 0 10px;
    box-sizing: border-box;
    font-size: 0;

    label
        display: block;
        color: $text-label;
        width: auto;
        font-size: 12px;

    .input-block
        width: 100%;
        margin-right: -10px;
        position: relative

        .error-text
            bottom -110px
    input
        padding-left 20px;
        color: $text-color;

.cpf
    width: 100%;
    margin: 0
    padding: 0 0 0 0;
    box-sizing: border-box;
    font-size: 0;

    label
        display: block;
        color: $text-label;
        width: auto;
        font-size: 12px;
    .input-block
        width: 100%;
        margin-right: -10px;
        position: relative

        .error-text
            bottom -34px

    input
        padding-left 20px;
        color: $text-color;

    .tooltip-icon
        width: 16px;
        height: 16px;
        position: absolute;
        right: 20px;
        bottom: 50%;
        transform: translateY(50%);
        border-radius: 50%;
        background-color: #e7e5e5;
        cursor: pointer;
        text-align: center;
        display: block;
        font-size: 0;

        &:before
            content: '?';
            display: inline-block;
            font: 10px Helvetica, Arial, sans-serif;
            line-height: 16px;
            color: #656d78;
        &:hover
            //background: $submit-button-color;
            &:before
                color: $tooltip-icon-text-color;
            &~.tooltip
                display: block;
    .tooltip
        display none
        position absolute
        top -38px
        right: 0
        width 180px
        height 52px
        background-color white;
        border-radius 6px
        padding 0
        box-sizing border-box
        z-index 100
        filter: drop-shadow(-3px 0px 14px rgba(0,0,0,.1));

        &:before
            content: "Num√©ro d'enregistrement CPF";
            box-sizing border-box
            display: block
            position absolute
            top 50%
            left 50%
            transform translate(-50%, -50%)
            z-index 99
            width: 165px;
            height: 16px;
            color: black;
            font-size: 12px;
            font-weight: 300;
        &:after
            bottom: -12px;
            right: 22px;
            border: solid transparent;
            content: " ";
            height: 0;
            width: 0;
            position: absolute;
            pointer-events: none;
            border-color: rgba(255, 255, 255, 0);
            border-top-color: #fff;
            border-width: 6px;

button
    display: inline-block
    //justify-content: center
    //align-items center
    border: none;
    outline: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;

    width: 100%;
    height: 43px;
    margin-top: 20px;
    padding: 0 0 1px 0;
    position: relative
    z-index: 1;
    transition margin .5s

    color: $submit-button-disabled-color-text;
    font: 14px Helvetica, sans-serif;

    background-color: $submit-button-disabled-color;
    border-radius: $input-border-radius;

.card_number.valid ~ .expiry-date-select.valid ~ .card_cvv.valid ~ .cpf.valid  ~ input ~ button {
    background-color: $submit-button-color;
    color: #fff;
}

.secure-info {
    width: 100%;
    display: block;
    margin: 10px 0;
    height: 20px;
    background: url('img/secure_icons.svg') no-repeat center 0;
    background-size: 185px 20px;
}

::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
    color: $text-placeholder;
    opacity: 1; /* Firefox */
}

:-ms-input-placeholder { /* Internet Explorer 10-11 */
    color: $text-placeholder;
}

::-ms-input-placeholder { /* Microsoft Edge */
    color: $text-placeholder;
}

.error.dirty input::placeholder {
    color $error-text-color;
}

.error.dirty + .error.dirty input::placeholder {
     color $text-placeholder;
 }
.error.dirty + .error.dirty #card_exp_year_select-select,
.error.dirty + .error.dirty #card_exp_month_select-select {
    color $text-placeholder;
}
